---
metadata:
  title: Authentication and Authorization
  description: Learn the core concepts behind authentication, authorization, users, profiles, and permissions in platformOS.
converter: markdown
---

## Introduction

In the previous chapters, you set up the User Module, configured Common Styling, and created a homepage for your application. You also explored the built-in authentication pages provided by the module, such as registration, login, password reset, and two-factor authentication. With these basics in place, it is time to move into the core of user management: understanding how platformOS determines **who a user is** and **what they are allowed to do**.

## Why this matters

As your application grows, you will likely introduce:

* Administrative dashboards
* User-only areas
* Organization-specific access rules
* Custom actions available only to certain roles

A clear understanding of the User Module's authentication and authorization model ensures that your application is secure, predictable, and easy to maintain.

To learn all of that, we'll create a new endpoint and only **admin** users with the role ‘admin’ will be able to access it. 

## Create Admin link and endpoint

Go to application.liquid, and add Admin to the navigation:

{% raw %}
```liquid
<nav>
  <a href="/">Home</a>
  <ul>
    {% if current_profile %}
      <li>Welcome, {{ current_profile.email }}</li>
        <li><a href="/admin">Admin</a></li>
      <form method="post" action="/sessions">
        <input type="hidden" name="authenticity_token" value="{{ context.authenticity_token }}">
        <input type="hidden" name="_method" value="delete">
        <button class="pos-button" type="submit">Logout</button>
      </form>

    {% else %}
      <li><a href="/sessions/new">Login</a></li>
    {% endif %}
  </ul>
</nav>
{{ content_for_layout }}
```
{% endraw %}

Now check browser:

[TODO SCREENSHOT]

Okay, we have link and click it. Okay, so let's add page now.

Create an admin directory and an index.liquid

app/views/pages/admin/index.liquid
 
“This is a page only admins should see.”

[TODO SCREENSHOT]

Okay, so now what we want to do is to ensure that only, not only logged in user can access this, but also this person needs to be an admin.

## Authentication vs. Authorization

Although the terms are often used together, authentication and authorization solve two very different problems.

### Authentication: *Who are you?*

Authentication verifies the identity of the visitor. Whenever a user logs in, platformOS creates a session and exposes the authenticated user through:

{% raw %} `{{ context.current_user }}` {% endraw %}

### Authorization: *What are you allowed to do?*

Authorization determines whether the authenticated user is allowed to perform a specific action.

So let's go to module documentation, pos- module user. https://github.com/Platform-OS/pos-module-user

In platformOS, authorization is based on:

* **Profiles**
* **Roles** assigned to those profiles
* **Permissions** attached to those roles

The User Module provides helpers such as:

{% raw %}
```liquid
function can = 'modules/user/helpers/can_do', requester: current_profile, do: 'admin.view'
```
{% endraw %}


Returning `true` or `false` depending on whether the user has permission to perform the operation.

You will use these helpers in later chapters to restrict access to admin-only pages and hide UI elements when users lack permissions.

Okay, so now what we want to do is to ensure that only, not only logged in user can access this, but also this person needs to be an admin. So let's go to module documentation, post module user. 

https://github.com/Platform-OS/pos-module-user?tab=readme-ov-file#rbac-authorization

Right, so what this documentation says is that when you install this module, there are three main roles, already like built-in roles, right? One is anonymous role. So this is the role for a non-logged in user.

It's useful to also have anonymous user as a role because for things like session creation, so logging in, you don't want to authenticate that role to have permission to do it, right? Because they already authenticate or reset password patch, right? It shouldn't be accessible by a logged in user. So that's why we have this anonymous role to grant permission to pages that should be only available for a person who is not logged in. 

And now, then you have authenticated role and this is any logged in user. So maybe, you know, you might have pages like dashboard, for example, where we display in the context of e-commerce, we display all of your orders, for example, right? Or shopping cart, something like that. And in order to view those pages, you need to be logged in. So you can already use, you know, this built-in role and don't have to create your own roles for every single feature. This is like the most common scenario.

And finally, super admin. Super admin has access to everything, right? 
That's the idea. But we will not be using super admin. We'll be adding our own role.