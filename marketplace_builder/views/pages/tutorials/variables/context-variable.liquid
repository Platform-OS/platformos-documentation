---
converter: markdown
metadata:
  title: The Context Variable
  description: Detailed description of the context variable with examples.
slug: tutorials/variables/context-variable
searchable: true
---

**Context** is a global object accessible in every [Liquid](https://shopify.github.io/liquid/) file of the project including views, Authorization Policies, and notifications.


## Displaying the context object
To inspect its structure and content, you can display the context object on the page as in the example below:

{% raw %}
```liquid
---
slug: context_example
---
{{ context }}
```
{% endraw %}

## Context object components

### context.authenticity_token
{% raw %}
`context.authenticity_token` is populated by the server and automatically included in every form generated by the `{% form %}` tag. It is used to mitigate [Cross Site Request Forgery](https://en.wikipedia.org/wiki/Cross-site_request_forgery) attacks. It has to be added to the payload in all server requests other than GET.
{% endraw %}

### context.constants
`context.constants` gives you access to sensitive data like api credentials, tokens. Those will be able to be set via Partner Porta (coming soon)

### context.cookies
`context.cookies` returns object with all of the site's cookies.

### context.current_user
`context.current_user` returns basic data of currently logged in user. Available attributes are: `first_name`, `last_name`, `email`, `id` and `slug`. It will return `nil` instead of object if user is not logged in.

### context.environment
`context.environment` returns a string `staging` or `production`. Common use case is to hide some functionalities on production without blocking the release.

### context.headers
`context.headers` contains whitelisted [HTTP headers](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields) with the data from the current HTTP request.

Available headers are:

* SERVER_NAME
* REQUEST_METHOD
* PATH_INFO
* REQUEST_URI
* HTTP_AUTHORIZATION
* HTTP_HOST
* HTTP_USER_AGENT
* HTTP_REFERER
* SERVER_PORT
* QUERY_STRING
* X-FORWARDED-FOR
* HTTP_STRIPE_SIGNATURE
* HTTP_AUTHENTICATION_TOKEN

### context.is_xhr
`context.is_xhr` returns `nil` for non xhr and Boolean `true` for XHR requests.

### context.language
`context.language` returns a String, the language ISO code used in the current request.
For more information about built-in translation mechanism go to the [translations section](/tutorials/translations/translations).

### context.location
`context.location` contains URL data of current request.

Available attributes are:

* href
* host
* pathname
* search

**Example 1: Extracting params from path name with `extract_url_params`**

URL: `www.mysite.com/app/admin/content/nyc/brooklyn/main`
{% raw %}
```liquid
{% assign template = '/app/admin/content/{city}/{area}/{street}' %}
{% assign params = context.location.pathname | extract_url_params: template %}

"params": {
  "city": "nyc",
  "area": "brooklyn",
  "street": "main"
}

The street is {{ params.street }}.
```
{% endraw %}

**Example 2: Conditional list class**
{% raw %}
```liquid
<li class="{% if context.location.href contains link.href %}active{% endif %}">
  <a href="#">{{ link.name }}</a>
</li>
```
{% endraw %}
### context.params
`context.params` contains user data provided in forms and query params.

Most common use cases are:

* Include form data in notifications
* Form data manipulation through default_payload
* Data validation in Authorization Policies

**Example 1: site path params mapping**
{% raw %}
When visiting the page with path `www.mysite.com/app/admin/content/nyc/brooklyn/main`
the value of `context.params` would be:
```json
{
  "slug": "app",
  "slug2": "admin",
  "slug3": "content",
  "slugs": "nyc/brooklyn/main"
}
```
{% endraw %}
*Another way of extracting page params is using [context.location.pathname](#context-location) as shown in Example 1.*

### context.session
`context.session` allows for quick access to session storage. Use mutations in order to store data in session like in [this example](https://documentation.platform-os.com/api-reference/graphql/graphql-glossary#operation-name)

### context.page
`context.page` contains information about the [page](/tutorials/pages/pages) on which it is included.

Available attributes are:

* id
* slug
* enable_profiler
* layout_name
* metadata

### context.useragent
`context.useragent` returns an object with user agent data.

**Example 1: Displaying useragent**

{% raw %}
```liquid
{{ context.useragent }}

Morzilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebkKit/537.36
(KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36
```
{% endraw %}

### context.visitor
`context.visitor` returns an object describing browser user. For now there is only one available attribute `ip`.

## Exposing a local variable within the context object

It is possible to promote a local variable so it is available in the `context.export` namespace. Use the `export` tag to do that as in the following example:

{% raw %}
```liquid
{% assign foo = "bar" %}
{% export foo, namespace: "baz" %}
{{ context.exports.baz.foo }}
```
{% endraw %}


{% include 'shared/questions_section' %}

